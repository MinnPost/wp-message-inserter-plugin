;(function($) {
"use strict";

function showTypeField(selector) {
  var value = $('input[type="radio"]:checked', selector).val();
  var parent = selector.parent();
  $('.cmb2-message-type').hide();
  $('.cmb2-message-type-' + value).show();
}

function showHideMaximum(selector, current) {
  if ('undefined' === typeof current) {
    var current = $('input[type="checkbox"]:checked', selector);
  }

  if ($('input[type="checkbox"]', selector).is(':checked')) {
    $('input[type="checkbox"]:checked', selector).closest('.cmb-field-list').find('.cmb2-maximum-width').hide();
  } else {
    $('input[type="checkbox"]', selector).closest('.cmb-field-list').find('.cmb2-maximum-width').show();
  }
}

function setupMessage() {
  var type_selector = $('.cmb2-message-type-selector');
  var no_max_selector = $('.cmb2-no-maximum-width');

  if (type_selector.length > 0) {
    showTypeField(type_selector);
    $('input[type="radio"]', type_selector).on('change', function (el) {
      showTypeField(type_selector);
    });
  }

  if (no_max_selector.length > 0) {
    showHideMaximum(no_max_selector);
    $('input[type="checkbox"]', no_max_selector).on('change', function (el) {
      showHideMaximum(no_max_selector, el);
    });
  }
}

$(document).ready(function () {
  $('#pageparentdiv label[for=parent_id]').parents('p').eq(0).remove();
  $('#pageparentdiv select#parent_id').remove();
  setupMessage();
});
$(document).on('cmb2_add_row', function (e) {
  $(this).find('input[type="checkbox"]').prop('checked', false);
  setupMessage();
});

if (jQuery.fn.select2) {
  $('.cmb2-insertable-message select').select2(); // Before a new group row is added, destroy Select2. We'll reinitialise after the row is added

  $('.cmb-repeatable-group').on('cmb2_add_group_row_start', function (event, instance) {
    var $table = $(document.getElementById($(instance).data('selector')));
    var $oldRow = $table.find('.cmb-repeatable-grouping').last();
    $oldRow.find('.cmb2_select').each(function () {
      $(this).select2('destroy');
    });
  }); // When a new group row is added, clear selection and initialise Select2

  $('.cmb-repeatable-group').on('cmb2_add_row', function (event, newRow) {
    $(newRow).find('.cmb2_select').each(function () {
      $('option:selected', this).removeAttr('selected');
      $(this).select2();
    }); // Reinitialise the field we previously destroyed

    $(newRow).prev().find('.cmb2_select').each(function () {
      $(this).select2();
    });
  });
}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1lc3NhZ2VzLmpzIl0sIm5hbWVzIjpbInNob3dUeXBlRmllbGQiLCJzZWxlY3RvciIsInZhbHVlIiwiJCIsInZhbCIsInBhcmVudCIsImhpZGUiLCJzaG93Iiwic2hvd0hpZGVNYXhpbXVtIiwiY3VycmVudCIsImlzIiwiY2xvc2VzdCIsImZpbmQiLCJzZXR1cE1lc3NhZ2UiLCJ0eXBlX3NlbGVjdG9yIiwibm9fbWF4X3NlbGVjdG9yIiwibGVuZ3RoIiwib24iLCJlbCIsImRvY3VtZW50IiwicmVhZHkiLCJwYXJlbnRzIiwiZXEiLCJyZW1vdmUiLCJlIiwicHJvcCIsImpRdWVyeSIsImZuIiwic2VsZWN0MiIsImV2ZW50IiwiaW5zdGFuY2UiLCIkdGFibGUiLCJnZXRFbGVtZW50QnlJZCIsImRhdGEiLCIkb2xkUm93IiwibGFzdCIsImVhY2giLCJuZXdSb3ciLCJyZW1vdmVBdHRyIiwicHJldiJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxTQUFTQSxhQUFULENBQXdCQyxRQUF4QixFQUFtQztBQUNsQyxNQUFJQyxLQUFLLEdBQUlDLENBQUMsQ0FBRSw2QkFBRixFQUFpQ0YsUUFBakMsQ0FBRCxDQUE2Q0csR0FBN0MsRUFBYjtBQUNBLE1BQUlDLE1BQU0sR0FBR0osUUFBUSxDQUFDSSxNQUFULEVBQWI7QUFDQUYsRUFBQUEsQ0FBQyxDQUFFLG9CQUFGLENBQUQsQ0FBMEJHLElBQTFCO0FBQ0FILEVBQUFBLENBQUMsQ0FBRSx3QkFBd0JELEtBQTFCLENBQUQsQ0FBbUNLLElBQW5DO0FBQ0E7O0FBRUQsU0FBU0MsZUFBVCxDQUEwQlAsUUFBMUIsRUFBb0NRLE9BQXBDLEVBQThDO0FBQzdDLE1BQUssZ0JBQWdCLE9BQU9BLE9BQTVCLEVBQXNDO0FBQ3JDLFFBQUlBLE9BQU8sR0FBR04sQ0FBQyxDQUFFLGdDQUFGLEVBQW9DRixRQUFwQyxDQUFmO0FBQ0E7O0FBQ0QsTUFBS0UsQ0FBQyxDQUFFLHdCQUFGLEVBQTRCRixRQUE1QixDQUFELENBQXdDUyxFQUF4QyxDQUE0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QUp3QixDQWF4Qjs7QUFDQXpCLEVBQUFBLENBQUMsQ0FBRSx1QkFBRixDQUFELENBQTZCYyxFQUE3QixDQUFnQyxjQUFoQyxFQUFnRCxVQUFXWSxLQUFYLEVBQWtCUSxNQUFsQixFQUEyQjtBQUMxRWxDLElBQUFBLENBQUMsQ0FBRWtDLE1BQUYsQ0FBRCxDQUFZekIsSUFBWixDQUFrQixjQUFsQixFQUFtQ3dCLElBQW5DLENBQXlDLFlBQVk7QUFDcERqQyxNQUFBQSxDQUFDLENBQUUsaUJBQUYsRUFBcUIsSUFBckIsQ0FBRCxDQUE2Qm1DLFVBQTdCLENBQXlDLFVBQXpDO0FBQ0FuQyxNQUFBQSxDQUFDLENBQUUsSUFBRixDQUFELENBQVV5QixPQUFWO0FBQ0EsS0FIRCxFQUQwRSxDQU0xRTs7QUFDQXpCLElBQUFBLENBQUMsQ0FBRWtDLE1BQUYsQ0FBRCxDQUFZRSxJQUFaLEdBQW1CM0IsSUFBbkIsQ0FBeUIsY0FBekIsRUFBMEN3QixJQUExQyxDQUFnRCxZQUFZO0FBQzNEakMsTUFBQUEsQ0FBQyxDQUFFLElBQUYsQ0FBRCxDQUFVeUIsT0FBVjtBQUNBLEtBRkQ7QUFHQSxHQVZEO0FBWUEiLCJmaWxlIjoid3AtbWVzc2FnZS1pbnNlcnRlci1wbHVnaW4tYWRtaW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBzaG93VHlwZUZpZWxkKCBzZWxlY3RvciApIHtcblx0dmFyIHZhbHVlICA9ICQoICdpbnB1dFt0eXBlPVwicmFkaW9cIl06Y2hlY2tlZCcsIHNlbGVjdG9yICkudmFsKCk7XG5cdHZhciBwYXJlbnQgPSBzZWxlY3Rvci5wYXJlbnQoKTtcblx0JCggJy5jbWIyLW1lc3NhZ2UtdHlwZScgKS5oaWRlKCk7XG5cdCQoICcuY21iMi1tZXNzYWdlLXR5cGUtJyArIHZhbHVlICkuc2hvdygpO1xufVxuXG5mdW5jdGlvbiBzaG93SGlkZU1heGltdW0oIHNlbGVjdG9yLCBjdXJyZW50ICkge1xuXHRpZiAoICd1bmRlZmluZWQnID09PSB0eXBlb2YgY3VycmVudCApIHtcblx0XHR2YXIgY3VycmVudCA9ICQoICdpbnB1dFt0eXBlPVwiY2hlY2tib3hcIl06Y2hlY2tlZCcsIHNlbGVjdG9yICk7XG5cdH1cblx0aWYgKCAkKCAnaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdJywgc2VsZWN0b3IgKS5pcyggJzpjaGVja2VkJyApICkge1xuXHRcdCQoICdpbnB1dFt0eXBlPVwiY2hlY2tib3hcIl06Y2hlY2tlZCcsIHNlbGVjdG9yICkuY2xvc2VzdCggJy5jbWItZmllbGQtbGlzdCcgKS5maW5kKCAnLmNtYjItbWF4aW11bS13aWR0aCcgKS5oaWRlKCk7XG5cdH0gZWxzZSB7XG5cdFx0JCggJ2lucHV0W3R5cGU9XCJjaGVja2JveFwiXScsIHNlbGVjdG9yICkuY2xvc2VzdCggJy5jbWItZmllbGQtbGlzdCcgKS5maW5kKCAnLmNtYjItbWF4aW11bS13aWR0aCcgKS5zaG93KCk7XG5cdH1cbn1cblxuZnVuY3Rpb24gc2V0dXBNZXNzYWdlKCkge1xuXHR2YXIgdHlwZV9zZWxlY3RvciAgID0gJCggJy5jbWIyLW1lc3NhZ2UtdHlwZS1zZWxlY3RvcicgKTtcblx0dmFyIG5vX21heF9zZWxlY3RvciA9ICQoICcuY21iMi1uby1tYXhpbXVtLXdpZHRoJyApO1xuXHRpZiAoIHR5cGVfc2VsZWN0b3IubGVuZ3RoID4gMCApIHtcblx0XHRzaG93VHlwZUZpZWxkKCB0eXBlX3NlbGVjdG9yICk7XG5cdFx0JCggJ2lucHV0W3R5cGU9XCJyYWRpb1wiXScsIHR5cGVfc2VsZWN0b3IgKS5vbiggJ2NoYW5nZScsIGZ1bmN0aW9uKCBlbCApIHtcblx0XHRcdHNob3dUeXBlRmllbGQoIHR5cGVfc2VsZWN0b3IgKTtcblx0XHR9KTtcblx0fVxuXHRpZiAoIG5vX21heF9zZWxlY3Rvci5sZW5ndGggPiAwICkge1xuXHRcdHNob3dIaWRlTWF4aW11bSggbm9fbWF4X3NlbGVjdG9yICk7XG5cdFx0JCggJ2lucHV0W3R5cGU9XCJjaGVja2JveFwiXScsIG5vX21heF9zZWxlY3RvciApLm9uKCAnY2hhbmdlJywgZnVuY3Rpb24oIGVsICkge1xuXHRcdFx0c2hvd0hpZGVNYXhpbXVtKCBub19tYXhfc2VsZWN0b3IsIGVsICk7XG5cdFx0fSk7XG5cdH1cbn1cblxuJCggZG9jdW1lbnQgKS5yZWFkeSggZnVuY3Rpb24oKSB7XG5cdFx0JCggJyNwYWdlcGFyZW50ZGl2IGxhYmVsW2Zvcj1wYXJlbnRfaWRdJyApLnBhcmVudHMoICdwJyApLmVxKDApLnJlbW92ZSgpO1xuXHRcdCQoICcjcGFnZXBhcmVudGRpdiBzZWxlY3QjcGFyZW50X2lkJyApLnJlbW92ZSgpO1xuXHRzZXR1cE1lc3NhZ2UoKTtcbn0pO1xuXG4kKCBkb2N1bWVudCApLm9uKCAnY21iMl9hZGRfcm93JywgZnVuY3Rpb24oIGUgKSB7XG5cdCQoIHRoaXMgKS5maW5kKCAnaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdJyApLnByb3AoICdjaGVja2VkJywgZmFsc2UgKTtcblx0c2V0dXBNZXNzYWdlKCk7XG59KTtcblxuaWYgKCBqUXVlcnkuZm4uc2VsZWN0MiApIHtcblx0JCggJy5jbWIyLWluc2VydGFibGUtbWVzc2FnZSBzZWxlY3QnICkuc2VsZWN0MigpO1xuXG5cdC8vIEJlZm9yZSBhIG5ldyBncm91cCByb3cgaXMgYWRkZWQsIGRlc3Ryb3kgU2VsZWN0Mi4gV2UnbGwgcmVpbml0aWFsaXNlIGFmdGVyIHRoZSByb3cgaXMgYWRkZWRcblx0JCggJy5jbWItcmVwZWF0YWJsZS1ncm91cCcgKS5vbiggJ2NtYjJfYWRkX2dyb3VwX3Jvd19zdGFydCcsIGZ1bmN0aW9uICggZXZlbnQsIGluc3RhbmNlICkge1xuXHRcdHZhciAkdGFibGUgPSAkKCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCggJCggaW5zdGFuY2UgKS5kYXRhKCAnc2VsZWN0b3InICkgKSApO1xuXHRcdHZhciAkb2xkUm93ID0gJHRhYmxlLmZpbmQoICcuY21iLXJlcGVhdGFibGUtZ3JvdXBpbmcnICkubGFzdCgpO1xuXG5cdFx0JG9sZFJvdy5maW5kKCAnLmNtYjJfc2VsZWN0JyApLmVhY2goIGZ1bmN0aW9uICgpIHtcblx0XHRcdCQoIHRoaXMgKS5zZWxlY3QyKCAnZGVzdHJveScgKTtcblx0XHR9KTtcblx0fSk7XG5cblx0Ly8gV2hlbiBhIG5ldyBncm91cCByb3cgaXMgYWRkZWQsIGNsZWFyIHNlbGVjdGlvbiBhbmQgaW5pdGlhbGlzZSBTZWxlY3QyXG5cdCQoICcuY21iLXJlcGVhdGFibGUtZ3JvdXAnICkub24oJ2NtYjJfYWRkX3JvdycsIGZ1bmN0aW9uICggZXZlbnQsIG5ld1JvdyApIHtcblx0XHQkKCBuZXdSb3cgKS5maW5kKCAnLmNtYjJfc2VsZWN0JyApLmVhY2goIGZ1bmN0aW9uICgpIHtcblx0XHRcdCQoICdvcHRpb246c2VsZWN0ZWQnLCB0aGlzICkucmVtb3ZlQXR0ciggJ3NlbGVjdGVkJyApO1xuXHRcdFx0JCggdGhpcyApLnNlbGVjdDIoKTtcblx0XHR9KTtcblxuXHRcdC8vIFJlaW5pdGlhbGlzZSB0aGUgZmllbGQgd2UgcHJldmlvdXNseSBkZXN0cm95ZWRcblx0XHQkKCBuZXdSb3cgKS5wcmV2KCkuZmluZCggJy5jbWIyX3NlbGVjdCcgKS5lYWNoKCBmdW5jdGlvbiAoKSB7XG5cdFx0XHQkKCB0aGlzICkuc2VsZWN0MigpO1xuXHRcdH0pO1xuXHR9KTtcblxufVxuIl19
}(jQuery));
