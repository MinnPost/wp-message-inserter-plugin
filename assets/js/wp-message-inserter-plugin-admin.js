;(function($) {
"use strict";

/**
 * Show fields associated with the selected message type
 *
 * @param {string} selector the div that holds the radio fields
 */
function showTypeField(selector) {
  var value = $('input[type="radio"]:checked', selector).val();
  $('.cmb2-message-type').hide();
  $('.cmb2-message-type-' + value).show();
}
/**
 * Whether we need the maximum screen width text field or not
 *
 * @param {string} selector the div that holds the checkboxes
 * @param {string} current the currently checked item
 */


function showHideMaximumScreen(selector, current) {
  if ('undefined' === typeof current) {
    current = $('input[type="checkbox"]:checked', selector);
  }

  if ($('input[type="checkbox"]', selector).is(':checked')) {
    $('input[type="checkbox"]:checked', selector).closest('.cmb-field-list').find('.cmb2-maximum-screen-width').hide();
  } else {
    $('input[type="checkbox"]', selector).closest('.cmb-field-list').find('.cmb2-maximum-screen-width').show();
  }
}
/**
 * Whether we need the custom maximum banner width fields
 *
 * @param {string} value the value of the maximum width <select> field
 */


function showHideMaximumBanner(value) {
  if ('custom' === value) {
    $('.cmb2-custom-maximum-banner-width').show();
  } else {
    $('.cmb2-custom-maximum-banner-width').hide();
  }
}
/**
 * Set up the message admin fields. This runs when a "screen size" gets added to the form
 */


function setupMessage() {
  var typeSelector = $('.cmb2-message-type-selector');
  var noMaxScreenSelector = $('.cmb2-no-maximum-screen-width');
  var maxBannerWidthSelector = '.cmb2-maximum-banner-width select';

  if (typeSelector.length > 0) {
    showTypeField(typeSelector);
    $('input[type="radio"]', typeSelector).on('change', function () {
      showTypeField(typeSelector);
    });
  }

  if (noMaxScreenSelector.length > 0) {
    showHideMaximumScreen(noMaxScreenSelector);
    $('input[type="checkbox"]', noMaxScreenSelector).on('change', function (el) {
      showHideMaximumScreen(noMaxScreenSelector, el);
    });
  }

  if ($(maxBannerWidthSelector).length > 0) {
    showHideMaximumBanner($(maxBannerWidthSelector).val());
    $(document).on('change', maxBannerWidthSelector, function () {
      showHideMaximumBanner($(this).val());
    });
  }
}
/**
 * When "add another screen size" runs, it adds a CMB2 row to the form. Set up the message form.
 */


$(document).on('cmb2_add_row', function () {
  $(this).find('input[type="checkbox"]').prop('checked', false);
  setupMessage();
});
/**
 * When jQuery loads, remove some default WP fields and set up the message form
 */

$(document).ready(function () {
  $('#pageparentdiv label[for=parent_id]').parents('p').eq(0).remove();
  $('#pageparentdiv select#parent_id').remove();
  setupMessage();
});
/**
 * Make the various <select> fields into select2 fields
 */

if (jQuery.fn.select2) {
  $('.cmb2-insertable-message select').select2(); // Before a new group row is added, destroy Select2. We'll reinitialise after the row is added

  $('.cmb-repeatable-group').on('cmb2_add_group_row_start', function (event, instance) {
    var $table = $(document.getElementById($(instance).data('selector')));
    var $oldRow = $table.find('.cmb-repeatable-grouping').last();
    $oldRow.find('.cmb2_select').each(function () {
      $(this).select2('destroy');
    });
  }); // When a new group row is added, clear selection and initialise Select2

  $('.cmb-repeatable-group').on('cmb2_add_row', function (event, newRow) {
    $(newRow).find('.cmb2_select').each(function () {
      $('option:selected', this).removeAttr('selected');
      $(this).select2();
    }); // Reinitialise the field we previously destroyed

    $(newRow).prev().find('.cmb2_select').each(function () {
      $(this).select2();
    });
  });
}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1lc3NhZ2VzLmpzIl0sIm5hbWVzIjpbInNob3dUeXBlRmllbGQiLCJzZWxlY3RvciIsInZhbHVlIiwiJCIsInZhbCIsImhpZGUiLCJzaG93Iiwic2hvd0hpZGVNYXhpbXVtU2NyZWVuIiwiY3VycmVudCIsImlzIiwiY2xvc2VzdCIsImZpbmQiLCJzaG93SGlkZU1heGltdW1CYW5uZXIiLCJzZXR1cE1lc3NhZ2UiLCJ0eXBlU2VsZWN0b3IiLCJub01heFNjcmVlblNlbGVjdG9yIiwibWF4QmFubmVyV2lkdGhTZWxlY3RvciIsImxlbmd0aCIsIm9uIiwiZWwiLCJkb2N1bWVudCIsInByb3AiLCJyZWFkeSIsInBhcmVudHMiLCJlcSIsInJlbW92ZSIsImpRdWVyeSIsImZuIiwic2VsZWN0MiIsImV2ZW50IiwiaW5zdGFuY2UiLCIkdGFibGUiLCJnZXRFbGVtZW50QnlJZCIsImRhdGEiLCIkb2xkUm93IiwibGFzdCIsImVhY2giLCJuZXdSb3ciLCJyZW1vdmVBdHRyIiwicHJldiJdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7Ozs7QUFLQSxTQUFTQSxhQUFULENBQXdCQyxRQUF4QixFQUFtQztBQUNsQyxNQUFNQyxLQUFLLEdBQUdDLENBQUMsQ0FBRSw2QkFBRixFQUFpQ0YsUUFBakMsQ0FBRCxDQUE2Q0csR0FBN0MsRUFBZDtBQUNBRCxFQUFBQSxDQUFDLENBQUUsb0JBQUYsQ0FBRCxDQUEwQkUsSUFBMUI7QUFDQUYsRUFBQUEsQ0FBQyxDQUFFLHdCQUF3QkQsS0FBMUIsQ0FBRCxDQUFtQ0ksSUFBbkM7QUFDQTtBQUVEOzs7Ozs7OztBQU1BLFNBQVNDLHFCQUFULENBQWdDTixRQUFoQyxFQUEwQ08sT0FBMUMsRUFBb0Q7QUFDbkQsTUFBSyxnQkFBZ0IsT0FBT0EsT0FBNUIsRUFBc0M7QUFDckNBLElBQUFBLE9BQU8sR0FBR0wsQ0FBQyxDQUFFLGdDQUFGLEVBQW9DRixRQUFwQyxDQUFYO0FBQ0E7O0FBQ0QsTUFBS0UsQ0FBQyxDQUFFLHdCQUFGLEVBQTRCRixRQUE1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Q0FNMUU7O0FBQ0F6QixJQUFBQSxDQUFDLENBQUVrQyxNQUFGLENBQUQsQ0FBWUUsSUFBWixHQUFtQjVCLElBQW5CLENBQXlCLGNBQXpCLEVBQTBDeUIsSUFBMUMsQ0FBZ0QsWUFBVztBQUMxRGpDLE1BQUFBLENBQUMsQ0FBRSxJQUFGLENBQUQsQ0FBVXlCLE9BQVY7QUFDQSxLQUZEO0FBR0EsR0FWRDtBQVdBIiwiZmlsZSI6IndwLW1lc3NhZ2UtaW5zZXJ0ZXItcGx1Z2luLWFkbWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBTaG93IGZpZWxkcyBhc3NvY2lhdGVkIHdpdGggdGhlIHNlbGVjdGVkIG1lc3NhZ2UgdHlwZVxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBzZWxlY3RvciB0aGUgZGl2IHRoYXQgaG9sZHMgdGhlIHJhZGlvIGZpZWxkc1xuICovXG5mdW5jdGlvbiBzaG93VHlwZUZpZWxkKCBzZWxlY3RvciApIHtcblx0Y29uc3QgdmFsdWUgPSAkKCAnaW5wdXRbdHlwZT1cInJhZGlvXCJdOmNoZWNrZWQnLCBzZWxlY3RvciApLnZhbCgpO1xuXHQkKCAnLmNtYjItbWVzc2FnZS10eXBlJyApLmhpZGUoKTtcblx0JCggJy5jbWIyLW1lc3NhZ2UtdHlwZS0nICsgdmFsdWUgKS5zaG93KCk7XG59XG5cbi8qKlxuICogV2hldGhlciB3ZSBuZWVkIHRoZSBtYXhpbXVtIHNjcmVlbiB3aWR0aCB0ZXh0IGZpZWxkIG9yIG5vdFxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBzZWxlY3RvciB0aGUgZGl2IHRoYXQgaG9sZHMgdGhlIGNoZWNrYm94ZXNcbiAqIEBwYXJhbSB7c3RyaW5nfSBjdXJyZW50IHRoZSBjdXJyZW50bHkgY2hlY2tlZCBpdGVtXG4gKi9cbmZ1bmN0aW9uIHNob3dIaWRlTWF4aW11bVNjcmVlbiggc2VsZWN0b3IsIGN1cnJlbnQgKSB7XG5cdGlmICggJ3VuZGVmaW5lZCcgPT09IHR5cGVvZiBjdXJyZW50ICkge1xuXHRcdGN1cnJlbnQgPSAkKCAnaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdOmNoZWNrZWQnLCBzZWxlY3RvciApO1xuXHR9XG5cdGlmICggJCggJ2lucHV0W3R5cGU9XCJjaGVja2JveFwiXScsIHNlbGVjdG9yICkuaXMoICc6Y2hlY2tlZCcgKSApIHtcblx0XHQkKCAnaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdOmNoZWNrZWQnLCBzZWxlY3RvciApLmNsb3Nlc3QoICcuY21iLWZpZWxkLWxpc3QnICkuZmluZCggJy5jbWIyLW1heGltdW0tc2NyZWVuLXdpZHRoJyApLmhpZGUoKTtcblx0fSBlbHNlIHtcblx0XHQkKCAnaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdJywgc2VsZWN0b3IgKS5jbG9zZXN0KCAnLmNtYi1maWVsZC1saXN0JyApLmZpbmQoICcuY21iMi1tYXhpbXVtLXNjcmVlbi13aWR0aCcgKS5zaG93KCk7XG5cdH1cbn1cblxuLyoqXG4gKiBXaGV0aGVyIHdlIG5lZWQgdGhlIGN1c3RvbSBtYXhpbXVtIGJhbm5lciB3aWR0aCBmaWVsZHNcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdmFsdWUgdGhlIHZhbHVlIG9mIHRoZSBtYXhpbXVtIHdpZHRoIDxzZWxlY3Q+IGZpZWxkXG4gKi9cbmZ1bmN0aW9uIHNob3dIaWRlTWF4aW11bUJhbm5lciggdmFsdWUgKSB7XG5cdGlmICggJ2N1c3RvbScgPT09IHZhbHVlICkge1xuXHRcdCQoICcuY21iMi1jdXN0b20tbWF4aW11bS1iYW5uZXItd2lkdGgnICkuc2hvdygpO1xuXHR9IGVsc2Uge1xuXHRcdCQoICcuY21iMi1jdXN0b20tbWF4aW11bS1iYW5uZXItd2lkdGgnICkuaGlkZSgpO1xuXHR9XG59XG5cbi8qKlxuICogU2V0IHVwIHRoZSBtZXNzYWdlIGFkbWluIGZpZWxkcy4gVGhpcyBydW5zIHdoZW4gYSBcInNjcmVlbiBzaXplXCIgZ2V0cyBhZGRlZCB0byB0aGUgZm9ybVxuICovXG5mdW5jdGlvbiBzZXR1cE1lc3NhZ2UoKSB7XG5cdGNvbnN0IHR5cGVTZWxlY3RvciA9ICQoICcuY21iMi1tZXNzYWdlLXR5cGUtc2VsZWN0b3InICk7XG5cdGNvbnN0IG5vTWF4U2NyZWVuU2VsZWN0b3IgPSAkKCAnLmNtYjItbm8tbWF4aW11bS1zY3JlZW4td2lkdGgnICk7XG5cdGNvbnN0IG1heEJhbm5lcldpZHRoU2VsZWN0b3IgPSAnLmNtYjItbWF4aW11bS1iYW5uZXItd2lkdGggc2VsZWN0Jztcblx0aWYgKCB0eXBlU2VsZWN0b3IubGVuZ3RoID4gMCApIHtcblx0XHRzaG93VHlwZUZpZWxkKCB0eXBlU2VsZWN0b3IgKTtcblx0XHQkKCAnaW5wdXRbdHlwZT1cInJhZGlvXCJdJywgdHlwZVNlbGVjdG9yICkub24oICdjaGFuZ2UnLCBmdW5jdGlvbigpIHtcblx0XHRcdHNob3dUeXBlRmllbGQoIHR5cGVTZWxlY3RvciApO1xuXHRcdH0gKTtcblx0fVxuXHRpZiAoIG5vTWF4U2NyZWVuU2VsZWN0b3IubGVuZ3RoID4gMCApIHtcblx0XHRzaG93SGlkZU1heGltdW1TY3JlZW4oIG5vTWF4U2NyZWVuU2VsZWN0b3IgKTtcblx0XHQkKCAnaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdJywgbm9NYXhTY3JlZW5TZWxlY3RvciApLm9uKCAnY2hhbmdlJywgZnVuY3Rpb24oIGVsICkge1xuXHRcdFx0c2hvd0hpZGVNYXhpbXVtU2NyZWVuKCBub01heFNjcmVlblNlbGVjdG9yLCBlbCApO1xuXHRcdH0gKTtcblx0fVxuXHRpZiAoICQoIG1heEJhbm5lcldpZHRoU2VsZWN0b3IgKS5sZW5ndGggPiAwICkge1xuXHRcdHNob3dIaWRlTWF4aW11bUJhbm5lciggJCggbWF4QmFubmVyV2lkdGhTZWxlY3RvciApLnZhbCgpICk7XG5cdFx0JCggZG9jdW1lbnQgKS5vbiggJ2NoYW5nZScsIG1heEJhbm5lcldpZHRoU2VsZWN0b3IsIGZ1bmN0aW9uKCkge1xuXHRcdFx0c2hvd0hpZGVNYXhpbXVtQmFubmVyKCAkKCB0aGlzICkudmFsKCkgKTtcblx0XHR9ICk7XG5cdH1cbn1cblxuLyoqXG4gKiBXaGVuIFwiYWRkIGFub3RoZXIgc2NyZWVuIHNpemVcIiBydW5zLCBpdCBhZGRzIGEgQ01CMiByb3cgdG8gdGhlIGZvcm0uIFNldCB1cCB0aGUgbWVzc2FnZSBmb3JtLlxuICovXG4kKCBkb2N1bWVudCApLm9uKCAnY21iMl9hZGRfcm93JywgZnVuY3Rpb24oKSB7XG5cdCQoIHRoaXMgKS5maW5kKCAnaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdJyApLnByb3AoICdjaGVja2VkJywgZmFsc2UgKTtcblx0c2V0dXBNZXNzYWdlKCk7XG59ICk7XG5cbi8qKlxuICogV2hlbiBqUXVlcnkgbG9hZHMsIHJlbW92ZSBzb21lIGRlZmF1bHQgV1AgZmllbGRzIGFuZCBzZXQgdXAgdGhlIG1lc3NhZ2UgZm9ybVxuICovXG4kKCBkb2N1bWVudCApLnJlYWR5KCBmdW5jdGlvbigpIHtcblx0JCggJyNwYWdlcGFyZW50ZGl2IGxhYmVsW2Zvcj1wYXJlbnRfaWRdJyApLnBhcmVudHMoICdwJyApLmVxKCAwICkucmVtb3ZlKCk7XG5cdCQoICcjcGFnZXBhcmVudGRpdiBzZWxlY3QjcGFyZW50X2lkJyApLnJlbW92ZSgpO1xuXHRzZXR1cE1lc3NhZ2UoKTtcbn0gKTtcblxuLyoqXG4gKiBNYWtlIHRoZSB2YXJpb3VzIDxzZWxlY3Q+IGZpZWxkcyBpbnRvIHNlbGVjdDIgZmllbGRzXG4gKi9cbmlmICggalF1ZXJ5LmZuLnNlbGVjdDIgKSB7XG5cdCQoICcuY21iMi1pbnNlcnRhYmxlLW1lc3NhZ2Ugc2VsZWN0JyApLnNlbGVjdDIoKTtcblxuXHQvLyBCZWZvcmUgYSBuZXcgZ3JvdXAgcm93IGlzIGFkZGVkLCBkZXN0cm95IFNlbGVjdDIuIFdlJ2xsIHJlaW5pdGlhbGlzZSBhZnRlciB0aGUgcm93IGlzIGFkZGVkXG5cdCQoICcuY21iLXJlcGVhdGFibGUtZ3JvdXAnICkub24oICdjbWIyX2FkZF9ncm91cF9yb3dfc3RhcnQnLCBmdW5jdGlvbiggZXZlbnQsIGluc3RhbmNlICkge1xuXHRcdGNvbnN0ICR0YWJsZSA9ICQoIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCAkKCBpbnN0YW5jZSApLmRhdGEoICdzZWxlY3RvcicgKSApICk7XG5cdFx0Y29uc3QgJG9sZFJvdyA9ICR0YWJsZS5maW5kKCAnLmNtYi1yZXBlYXRhYmxlLWdyb3VwaW5nJyApLmxhc3QoKTtcblxuXHRcdCRvbGRSb3cuZmluZCggJy5jbWIyX3NlbGVjdCcgKS5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdCQoIHRoaXMgKS5zZWxlY3QyKCAnZGVzdHJveScgKTtcblx0XHR9ICk7XG5cdH0gKTtcblxuXHQvLyBXaGVuIGEgbmV3IGdyb3VwIHJvdyBpcyBhZGRlZCwgY2xlYXIgc2VsZWN0aW9uIGFuZCBpbml0aWFsaXNlIFNlbGVjdDJcblx0JCggJy5jbWItcmVwZWF0YWJsZS1ncm91cCcgKS5vbiggJ2NtYjJfYWRkX3JvdycsIGZ1bmN0aW9uKCBldmVudCwgbmV3Um93ICkge1xuXHRcdCQoIG5ld1JvdyApLmZpbmQoICcuY21iMl9zZWxlY3QnICkuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHQkKCAnb3B0aW9uOnNlbGVjdGVkJywgdGhpcyApLnJlbW92ZUF0dHIoICdzZWxlY3RlZCcgKTtcblx0XHRcdCQoIHRoaXMgKS5zZWxlY3QyKCk7XG5cdFx0fSApO1xuXG5cdFx0Ly8gUmVpbml0aWFsaXNlIHRoZSBmaWVsZCB3ZSBwcmV2aW91c2x5IGRlc3Ryb3llZFxuXHRcdCQoIG5ld1JvdyApLnByZXYoKS5maW5kKCAnLmNtYjJfc2VsZWN0JyApLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0JCggdGhpcyApLnNlbGVjdDIoKTtcblx0XHR9ICk7XG5cdH0gKTtcbn1cbiJdfQ==
}(jQuery));
