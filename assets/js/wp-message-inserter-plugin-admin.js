'use strict';

(function ($) {

	function showTypeField(selector) {
		var value = $('input[type="radio"]:checked', selector).val();
		var parent = selector.parent();
		$('.cmb2-message-type').hide();
		$('.cmb2-message-type-' + value).show();
	}

	function showHideMaximum(selector, current) {
		if ('undefined' === typeof current) {
			var current = $('input[type="checkbox"]:checked', selector);
		}
		if ($('input[type="checkbox"]', selector).is(':checked')) {
			$('input[type="checkbox"]:checked', selector).closest('.cmb-field-list').find('.cmb2-maximum-width').hide();
		} else {
			$('input[type="checkbox"]', selector).closest('.cmb-field-list').find('.cmb2-maximum-width').show();
		}
	}

	function setupMessage() {
		var type_selector = $('.cmb2-message-type-selector');
		var no_max_selector = $('.cmb2-no-maximum-width');
		if (type_selector.length > 0) {
			showTypeField(type_selector);
			$('input[type="radio"]', type_selector).on('change', function (el) {
				showTypeField(type_selector);
			});
		}
		if (no_max_selector.length > 0) {
			showHideMaximum(no_max_selector);
			$('input[type="checkbox"]', no_max_selector).on('change', function (el) {
				showHideMaximum(no_max_selector, el);
			});
		}
	}

	$(document).ready(function () {
		$('#pageparentdiv label[for=parent_id]').parents('p').eq(0).remove();
		$('#pageparentdiv select#parent_id').remove();
		setupMessage();
	});

	$(document).on('cmb2_add_row', function (e) {
		$(this).find('input[type="checkbox"]').prop('checked', false);
		setupMessage();
	});

	if (jQuery.fn.select2) {
		$('.cmb2-insertable-message select').select2();
	}
})(jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1lc3NhZ2VzLmpzIl0sIm5hbWVzIjpbIiQiLCJzaG93VHlwZUZpZWxkIiwic2VsZWN0b3IiLCJ2YWx1ZSIsInZhbCIsInBhcmVudCIsImhpZGUiLCJzaG93Iiwic2hvd0hpZGVNYXhpbXVtIiwiY3VycmVudCIsImlzIiwiY2xvc2VzdCIsImZpbmQiLCJzZXR1cE1lc3NhZ2UiLCJ0eXBlX3NlbGVjdG9yIiwibm9fbWF4X3NlbGVjdG9yIiwibGVuZ3RoIiwib24iLCJlbCIsImRvY3VtZW50IiwicmVhZHkiLCJwYXJlbnRzIiwiZXEiLCJyZW1vdmUiLCJlIiwicHJvcCIsImpRdWVyeSIsImZuIiwic2VsZWN0MiJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxDQUFFLFVBQVVBLENBQVYsRUFBYzs7QUFFZixVQUFTQyxhQUFULENBQXdCQyxRQUF4QixFQUFtQztBQUNsQyxNQUFJQyxRQUFTSCxFQUFHLDZCQUFILEVBQWtDRSxRQUFsQyxFQUE2Q0UsR0FBN0MsRUFBYjtBQUNBLE1BQUlDLFNBQVNILFNBQVNHLE1BQVQsRUFBYjtBQUNBTCxJQUFHLG9CQUFILEVBQTBCTSxJQUExQjtBQUNBTixJQUFHLHdCQUF3QkcsS0FBM0IsRUFBbUNJLElBQW5DO0FBQ0E7O0FBRUQsVUFBU0MsZUFBVCxDQUEwQk4sUUFBMUIsRUFBb0NPLE9BQXBDLEVBQThDO0FBQzdDLE1BQUssZ0JBQWdCLE9BQU9BLE9BQTVCLEVBQXNDO0FBQ3JDLE9BQUlBLFVBQVVULEVBQUcsZ0NBQUgsRUFBcUNFLFFBQXJDLENBQWQ7QUFDQTtBQUNELE1BQUtGLEVBQUcsd0JBQUgsRUFBNkJFLFFBQTdCLEVBQXdDUSxFQUF4QyxDQUE0QyxVQUE1QyxDQUFMLEVBQWdFO0FBQy9EVixLQUFHLGdDQUFILEVBQXFDRSxRQUFyQyxFQUFnRFMsT0FBaEQsQ0FBeUQsaUJBQXpELEVBQTZFQyxJQUE3RSxDQUFtRixxQkFBbkYsRUFBMkdOLElBQTNHO0FBQ0EsR0FGRCxNQUVPO0FBQ05OLEtBQUcsd0JBQUgsRUFBNkJFLFFBQTdCLEVBQXdDUyxPQUF4QyxDQUFpRCxpQkFBakQsRUFBcUVDLElBQXJFLENBQTJFLHFCQUEzRSxFQUFtR0wsSUFBbkc7QUFDQTtBQUNEOztBQUVELFVBQVNNLFlBQVQsR0FBd0I7QUFDdkIsTUFBSUMsZ0JBQWtCZCxFQUFHLDZCQUFILENBQXRCO0FBQ0EsTUFBSWUsa0JBQWtCZixFQUFHLHdCQUFILENBQXRCO0FBQ0EsTUFBS2MsY0FBY0UsTUFBZCxHQUF1QixDQUE1QixFQUFnQztBQUMvQmYsaUJBQWVhLGFBQWY7QUFDQWQsS0FBRyxxQkFBSCxFQUEwQmMsYUFBMUIsRUFBMENHLEVBQTFDLENBQThDLFFBQTlDLEVBQXdELFVBQVVDLEVBQVYsRUFBZTtBQUN0RWpCLGtCQUFlYSxhQUFmO0FBQ0EsSUFGRDtBQUdBO0FBQ0QsTUFBS0MsZ0JBQWdCQyxNQUFoQixHQUF5QixDQUE5QixFQUFrQztBQUNqQ1IsbUJBQWlCTyxlQUFqQjtBQUNBZixLQUFHLHdCQUFILEVBQTZCZSxlQUE3QixFQUErQ0UsRUFBL0MsQ0FBbUQsUUFBbkQsRUFBNkQsVUFBVUMsRUFBVixFQUFlO0FBQzNFVixvQkFBaUJPLGVBQWpCLEVBQWtDRyxFQUFsQztBQUNBLElBRkQ7QUFHQTtBQUNEOztBQUVEbEIsR0FBR21CLFFBQUgsRUFBY0MsS0FBZCxDQUFxQixZQUFXO0FBQzdCcEIsSUFBRyxxQ0FBSCxFQUEyQ3FCLE9BQTNDLENBQW9ELEdBQXBELEVBQTBEQyxFQUExRCxDQUE2RCxDQUE3RCxFQUFnRUMsTUFBaEU7QUFDQXZCLElBQUcsaUNBQUgsRUFBdUN1QixNQUF2QztBQUNGVjtBQUNBLEVBSkQ7O0FBTUFiLEdBQUdtQixRQUFILEVBQWNGLEVBQWQsQ0FBa0IsY0FBbEIsRUFBa0MsVUFBVU8sQ0FBVixFQUFjO0FBQy9DeEIsSUFBRyxJQUFILEVBQVVZLElBQVYsQ0FBZ0Isd0JBQWhCLEVBQTJDYSxJQUEzQyxDQUFpRCxTQUFqRCxFQUE0RCxLQUE1RDtBQUNBWjtBQUNBLEVBSEQ7O0FBS0EsS0FBS2EsT0FBT0MsRUFBUCxDQUFVQyxPQUFmLEVBQXlCO0FBQ3hCNUIsSUFBRyxpQ0FBSCxFQUF1QzRCLE9BQXZDO0FBQ0E7QUFFRCxDQXBERCxFQW9ER0YsTUFwREgiLCJmaWxlIjoid3AtbWVzc2FnZS1pbnNlcnRlci1wbHVnaW4tYWRtaW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIoIGZ1bmN0aW9uKCAkICkge1xuXG5cdGZ1bmN0aW9uIHNob3dUeXBlRmllbGQoIHNlbGVjdG9yICkge1xuXHRcdHZhciB2YWx1ZSAgPSAkKCAnaW5wdXRbdHlwZT1cInJhZGlvXCJdOmNoZWNrZWQnLCBzZWxlY3RvciApLnZhbCgpO1xuXHRcdHZhciBwYXJlbnQgPSBzZWxlY3Rvci5wYXJlbnQoKTtcblx0XHQkKCAnLmNtYjItbWVzc2FnZS10eXBlJyApLmhpZGUoKTtcblx0XHQkKCAnLmNtYjItbWVzc2FnZS10eXBlLScgKyB2YWx1ZSApLnNob3coKTtcblx0fVxuXG5cdGZ1bmN0aW9uIHNob3dIaWRlTWF4aW11bSggc2VsZWN0b3IsIGN1cnJlbnQgKSB7XG5cdFx0aWYgKCAndW5kZWZpbmVkJyA9PT0gdHlwZW9mIGN1cnJlbnQgKSB7XG5cdFx0XHR2YXIgY3VycmVudCA9ICQoICdpbnB1dFt0eXBlPVwiY2hlY2tib3hcIl06Y2hlY2tlZCcsIHNlbGVjdG9yICk7XG5cdFx0fVxuXHRcdGlmICggJCggJ2lucHV0W3R5cGU9XCJjaGVja2JveFwiXScsIHNlbGVjdG9yICkuaXMoICc6Y2hlY2tlZCcgKSApIHtcblx0XHRcdCQoICdpbnB1dFt0eXBlPVwiY2hlY2tib3hcIl06Y2hlY2tlZCcsIHNlbGVjdG9yICkuY2xvc2VzdCggJy5jbWItZmllbGQtbGlzdCcgKS5maW5kKCAnLmNtYjItbWF4aW11bS13aWR0aCcgKS5oaWRlKCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdCQoICdpbnB1dFt0eXBlPVwiY2hlY2tib3hcIl0nLCBzZWxlY3RvciApLmNsb3Nlc3QoICcuY21iLWZpZWxkLWxpc3QnICkuZmluZCggJy5jbWIyLW1heGltdW0td2lkdGgnICkuc2hvdygpO1xuXHRcdH1cblx0fVxuXG5cdGZ1bmN0aW9uIHNldHVwTWVzc2FnZSgpIHtcblx0XHR2YXIgdHlwZV9zZWxlY3RvciAgID0gJCggJy5jbWIyLW1lc3NhZ2UtdHlwZS1zZWxlY3RvcicgKTtcblx0XHR2YXIgbm9fbWF4X3NlbGVjdG9yID0gJCggJy5jbWIyLW5vLW1heGltdW0td2lkdGgnICk7XG5cdFx0aWYgKCB0eXBlX3NlbGVjdG9yLmxlbmd0aCA+IDAgKSB7XG5cdFx0XHRzaG93VHlwZUZpZWxkKCB0eXBlX3NlbGVjdG9yICk7XG5cdFx0XHQkKCAnaW5wdXRbdHlwZT1cInJhZGlvXCJdJywgdHlwZV9zZWxlY3RvciApLm9uKCAnY2hhbmdlJywgZnVuY3Rpb24oIGVsICkge1xuXHRcdFx0XHRzaG93VHlwZUZpZWxkKCB0eXBlX3NlbGVjdG9yICk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdFx0aWYgKCBub19tYXhfc2VsZWN0b3IubGVuZ3RoID4gMCApIHtcblx0XHRcdHNob3dIaWRlTWF4aW11bSggbm9fbWF4X3NlbGVjdG9yICk7XG5cdFx0XHQkKCAnaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdJywgbm9fbWF4X3NlbGVjdG9yICkub24oICdjaGFuZ2UnLCBmdW5jdGlvbiggZWwgKSB7XG5cdFx0XHRcdHNob3dIaWRlTWF4aW11bSggbm9fbWF4X3NlbGVjdG9yLCBlbCApO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHR9XG5cblx0JCggZG9jdW1lbnQgKS5yZWFkeSggZnVuY3Rpb24oKSB7XG4gIFx0XHQkKCAnI3BhZ2VwYXJlbnRkaXYgbGFiZWxbZm9yPXBhcmVudF9pZF0nICkucGFyZW50cyggJ3AnICkuZXEoMCkucmVtb3ZlKCk7XG4gIFx0XHQkKCAnI3BhZ2VwYXJlbnRkaXYgc2VsZWN0I3BhcmVudF9pZCcgKS5yZW1vdmUoKTtcblx0XHRzZXR1cE1lc3NhZ2UoKTtcblx0fSk7XG5cblx0JCggZG9jdW1lbnQgKS5vbiggJ2NtYjJfYWRkX3JvdycsIGZ1bmN0aW9uKCBlICkge1xuXHRcdCQoIHRoaXMgKS5maW5kKCAnaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdJyApLnByb3AoICdjaGVja2VkJywgZmFsc2UgKTtcblx0XHRzZXR1cE1lc3NhZ2UoKTtcblx0fSk7XG5cblx0aWYgKCBqUXVlcnkuZm4uc2VsZWN0MiApIHtcblx0XHQkKCAnLmNtYjItaW5zZXJ0YWJsZS1tZXNzYWdlIHNlbGVjdCcgKS5zZWxlY3QyKCk7XG5cdH1cblxufSkoalF1ZXJ5KTtcbiJdfQ==
